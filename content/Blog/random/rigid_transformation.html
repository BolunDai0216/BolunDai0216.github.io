<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Introduction to Rigid Transformations</title>
    <!-- Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ygbV9kiqUc6oa4msXn9868pTtWMgiQaeYH7/t7LECLbyPA2x65Kgf80OJFdroafW"
        crossorigin="anonymous"></script>

    <!-- MathJax -->
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>

    <!-- Distill -->
    <script src="https://distill.pub/template.v1.js"></script>

    <!-- Own Design -->
    <link rel="stylesheet" href="../../../css/base.css" />
    <link rel="stylesheet" href="../../../css/blog.css" />
    <script src="../../../js/utils.js"></script>

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-3NQ4FBB1FB"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());

        gtag('config', 'G-3NQ4FBB1FB');
    </script>

    <!-- Academicons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jpswalsh/academicons@1/css/academicons.min.css">

    <script type="text/front-matter">
        title: "Introduction to Rigid Transformations"
        description: "Description of the post"
        authors:
        - Bolun Dai: http://bolundai0216.github.io
        affiliations:
        - 
    </script>
</head>

<body>
    <div id="app">
        <header>
            <nav class="navbar navbar-expand-lg navbar-dark">
                <div class=" container-fluid">
                    <a class="navbar-brand header-brand link" href="../../../index.html"
                        onmouseover="addUnderline(this)" onmouseleave="removeUnderline(this)">Bolun
                        Dai</a>
                    <button class=" navbar-toggler" type="button" data-bs-toggle="collapse"
                        data-bs-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false"
                        aria-label="Toggle navigation">
                        <span class="navbar-toggler-icon"></span>
                    </button>
                    <div class="collapse navbar-collapse justify-content-end nav-div" id="navbarNavAltMarkup">
                        <div class="navbar-nav">
                            <a class="nav-link nav-link-bolun link" onmouseover="addUnderline(this)"
                                onmouseleave="removeUnderline(this)" href="../blog.html">Blog</a>
                            <a class="nav-link nav-link-bolun link" onmouseover="addUnderline(this)"
                                onmouseleave="removeUnderline(this)" href="../../CV/cv.html">CV</a>
                            <a class="nav-link nav-link-bolun link" onmouseover="addUnderline(this)"
                                onmouseleave="removeUnderline(this)" href="../../Research/research.html">Research</a>
                        </div>
                    </div>
                </div>
            </nav>
        </header>

        <dt-article class="dt-article-class">
            <div class="container-fluid">
                <div class="row">
                    <div class="col-0 col-lg-2">
                        <p>

                        </p>
                    </div>

                    <div class="col-12 col-lg-8">
                        <h1>Introduction to Rigid Transformations</h1>
                        <dt-byline class="dt-byline-class"></dt-byline>
                    </div>
                </div>
            </div>

            <div class="container-fluid">
                <div class="row">
                    <div class="col-12 col-lg-2">
                        <div id="side-list" class="list-group sticky-top">
                            <a class="list-group-item blog-side-item" href="#rigid_trans">
                                Rigid Transformations
                            </a>
                            <a class="list-group-item blog-side-item" href="#rotations">
                                Rotations
                            </a>
                            <a class="list-group-item blog-side-item" href="#rigid_motion">
                                Rigid Motions in \(\mathbb{R}^3\)
                            </a>
                            <a class="list-group-item blog-side-item" href="#velocity">
                                Velocity of a Rigid Body
                            </a>
                            <a class="list-group-item blog-side-item" href="#wrenches">
                                Wrenches
                            </a>
                        </div>
                    </div>

                    <div class="col-12 col-lg-8">
                        <p>
                            In this blog, I want to talk give a review of rigid transformations, in specific rotation
                            and translation. Although this is the most basic concept in robotics, I tend to confuse many
                            concepts. Therefore, this to me is more like a cheatsheet. The content is developed from
                            <dt-cite key="DBLP:books/daglib/0073732"></dt-cite>.
                        </p>

                        <hr>

                        <h2 id="rigid_trans">Rigid Transformations</h2>

                        <p>
                            A rigid transformation in \(\mathbb{R}^3\) is a mapping
                            \(g:\mathbb{R}^3\rightarrow\mathbb{R}^3\) that has the following properties:
                        </p>
                        <ul>
                            <li>Length is preserved \(\|g(p) - g(q)\| = \|p - q\|\) for all points \(p,
                                q\in\mathbb{R}^3\).</li>
                            <li>The cross product is preserved \(g_*(v\times w) = g_*(v)\times g_*(w)\) for all vectors
                                \(v, w\in\mathbb{R}^3\).</li>
                        </ul>
                        <p>
                            In addition to the above properties we can also prove that the inner product is preserved
                            $$v_1^Tv_2 = g_*(v_1)^Tg_*(v_2).$$
                        </p>

                        <figure class="l-middle">
                            <img src="../../../img/blog-materials/rigid_transformation.gif"
                                alt="rigid transformation illustration">
                        </figure>

                        <p>
                            We can see from the above animation, that after translation and rotation the length of the
                            two blue lines did not change (\(\|\cdot\|\) did not change), thus satisfying the first
                            property. From the definition of inner product we have
                            $$\langle \mathbf{a}, \mathbf{b}\rangle = \|\mathbf{a}\|\|\mathbf{b}\|\cos(\theta)$$
                            where \(\theta\) is the angle between \(\mathbf{a}\) and \(\mathbf{b}\). We can see that the
                            angle between the two lines did not change (\(\cos(\theta)\) does not change), and since the
                            length is also kept the same, the inner product is preserved. The rotation is in a 2D plane,
                            but we can see that for the body coordinate system before and after the transformation
                            (orange axes) the z-axis is the same, thus the cross product is preserved. This result
                            generalizes to 3D rotations.
                        </p>

                        <hr>

                        <h2 id="rotations">Rotations</h2>
                        <h3>Properties</h3>
                        <p>
                            The rotation matrix has the following properties
                            $$SO(3) = \{R\in\mathbb{R}^{3\times3}\ |\ RR^T = I, \mathrm{det}R = 1\},$$
                            where \(SO(3)\) represents the special orthogonal group. Since the rotation matrix is a
                            group under matrix multiplication it has some additional properties:
                        </p>

                        <ul>
                            <li>Closure: If \(R_1, R_2\) are rotation matrices then \(R_1R_2\) is also a rotation
                                matrix.</li>
                            <li>Identity: The identity matrix is the identity element.</li>
                            <li>Inverse: Each rotation matrix has an inverse \(R^{-1} = R^T\).</li>
                            <li>Associativity: For rotation matrices \(R_1, R_2\) and \(R_3\) we have \((R_1R_2)R_3 =
                                R_1(R_2R_3)\).</li>
                        </ul>

                        <p>
                            Also rotation matrix is a rigid transformation which means that
                        </p>
                        <ul>
                            <li>R preserves length: \(\|Rq - Rp\| = \|p - q\|\) for all points \(p,
                                q\in\mathbb{R}^3\).</li>
                            <li>R preserves orientation: \(R(v\times w) = (Rv)\times(Rw)\) for all vectors \(v,
                                w\in\mathbb{R}^3\).</li>
                        </ul>

                        <h3>Representations</h3>
                        <figure class="l-middle">
                            <img src="../../../img/blog-materials/rotation.gif" alt="rotation illustration">
                        </figure>
                        <p>
                            We can see from the animation, that if we have a vector \(\mathbf{q}\) rotating with respect
                            to another vector \(\omega\) with constant angular velocity \(\|\omega\|\), its linear
                            velocity can be calculated as \(\dot{\mathbf{q}} = \omega\times\mathbf{q} =
                            \hat{\omega}\mathbf{q}\). From the knowledge of linear systems (solution of \(\dot{x} = Ax\)
                            is \(x(t) = e^{At}x_0\)) we have the trajectory of the vector as \(\mathbf{q}^\prime =
                            \mathbf{q}(t) = e^{\hat{\omega}t}\mathbf{q}_0\). Additionally, if we have \(\|\omega\| =
                            1\), then we have \(t = \theta\) the rotation angle.
                        </p>
                        <p>
                            From <b>Euler's theorem</b> we know that for any rotation matrix \(R\in SO(3)\), it can be
                            seen to be equivalent to rotation about a fixed axis \(\omega\in\mathbb{R}^3\) through an
                            angle \(\theta\in[0, 2\pi]\). To represent the rotation matrix this way we can use the
                            exponential map
                            $$R = e^{\hat{w}\theta} = I + \frac{\hat{\omega}}{\|\omega\|}\sin{(\|\omega\|\theta)} +
                            \frac{\hat{\omega}^2}{\|\omega\|}\bigg(1 - \cos{((\|\omega\|\theta))}\bigg)$$
                            where \(\hat{\omega}\) is defined as
                            $$\hat{\omega} = \begin{bmatrix}
                            0 & -\omega_3 & \omega_2\\
                            \omega_3 & 0 & -\omega_1\\
                            -\omega_2 & \omega_1 & 0
                            \end{bmatrix}\in so(3) = \{S\in\mathbb{R}^{3\times3}\ |\ S^T = -S\}.$$
                            This mapping is many-to-one, which says that there are many \(e^{\hat{w}\theta}\)
                            corresponding to one \(R\), and for every \(R\in SO(3)\) we have more than one
                            \(e^{\hat{w}\theta}\). To obtain \(\omega\) and \(\theta\) from \(R\) we have
                            $$\theta = \cos^{-1}\Big(\frac{\mathrm{trace}(R) - 1}{2}\Big)\ \mathrm{and}\ \omega =
                            \frac{1}{2\sin\theta}\begin{bmatrix}
                            r_{32} - r_{23}\\
                            r_{13} - r_{31}\\
                            r_{21} - r_{12}
                            \end{bmatrix},$$
                            we can see that the pair \((\theta, \omega)\) and \((2\pi - \theta, -\omega)\) can both
                            obtain \(R\), thus makes this mapping many-to-one. Note that in the case where \(\theta =
                            0\) we can pick any arbitrary \(\omega\), which all makes \(R = I\).

                        </p>

                        <h3>Better understanding what rotation matrices represent</h3>
                        <figure class="l-middle">
                            <img src="../../../img/blog-materials/twoViewofR.png" alt="rotation illustration">
                        </figure>
                        <p>
                            Rotation matrices can be seen as a mapping from describing a point in one coordinate frame
                            to describing it in another coordinate frame. For the equation \(x_g^\prime = Rx_b\), we can
                            see \(x_b\) as a point specified in a body frame \(b\) and \(x_g^\prime\) being the same
                            point, however, specified in the coordinates of the global fixed frame \(g\). The rotation
                            matrix \(R\) then serves as a mapping between these two representations.
                        </p>

                        <p>
                            Another way to see rotation matrices is to see it as an action, to rotate points in the same
                            frame from one configuration to another. Using the equation \(x_g^\prime = Rx_g\), we can
                            see \(x_g\) as the the point before applying the rotation \(R\) and \(x_g^\prime\) the point
                            after applying rotation \(R\).
                        </p>

                        <p>
                            With these two views, we can now better understand how to represent rotations w.r.t the
                            global fixed frame and the body frame. Now we ask, if sequentially applying two rotations
                            \(R_1\) and \(R_2\) both specified in the body frame, where would the point end up in the
                            global frame? Denote \(x_2\) as the final position in the global frame and \(x_0\) the
                            initial position in the global frame, we want to find the rotation matrix between \(x_2\)
                            and \(x_0\). First, we denote the initial position in the global frame as \(x_0^g\), where
                            the superscript \(g\) denotes that this is represented in the global frame. After applying
                            \(R_1\) we have
                            $$x_1^g = R_1x_0^g.$$
                            One thing to note is that in the body frame the coordinates of the point is always the same,
                            which is equal to \(x_0^g\). Thus we have
                            $$R_1^Tx_1^g = x_1^{1} = x_0^g,$$
                            where the superscript 1 denotes the point represented in the body frame after rotation
                            \(R_1\). If we see \(R_1\) as a mapping between points in the frame 1 and the global
                            frame \(g\), we have the following relationship
                            $$R_1^Tx^g = x^{1}\ \mathrm{and}\ x^g = R_1x^{1}.$$
                            Then we can see if we apply \(R_2\) which is w.r.t the frame \(b1\) we can have
                            $$x_2^{1} = R_2x_1^{1}\ \rightarrow\ R_2^Tx_2^{1} = x_2^{2} = x_1^{1} = x_0^g,$$
                            similar to before this utilizes the fact that the coordinates of the point is kept constant
                            in the current body frame. Finally, if we use \(R_1\) to map \(x_2^{1}\) to \(x_2^g\) we
                            can have
                            $$R_1x_2^{1} = x_2^g,$$
                            then we can have
                            $$x_2^{g} = R_1R_2x_0{g}.$$
                            An interesting question would be after we get \(x_2^{g}\) if we rotate about the global
                            frame using \(R_3\) and then rotate about the body frame using \(R_4\) what point will we
                            end up at. If call the point after applying \(R_3\): \(x_3\), we can easily have
                            $$x_3^g = R_3x_2^g = R_3R_1R_2x_0^{g} = R_3R_1R_2x_3^{3},$$
                            which again utilizes the fact that the body frame coordinates do not change \(x_3^{3} =
                            x_2^{2} = x_1^{1} = x_0^g\). Also we obtain a mapping from the global frame and the body
                            frame \(3\): \(x^g = R_3R_1R_2x^3\). Then if we apply \(R_4\), and get to point 4 we can
                            have
                            $$x_4^{3} = R_4x_3^{3}\ \rightarrow\ R_4^Tx_4^{3} = x_3^{3} = x_4^{4} = x_0^g.$$
                            To map \(x_4^{3}\) into the global frame we can have
                            $$R_3R_1R_2x_4^{3} = R_3R_1R_2R_4x_4^{4} = x_4^g\ \rightarrow\ R_4^TR_2^TR_1^TR_3^Tx_4^g =
                            x_0^g\ \rightarrow\
                            x_4^g = R_3R_1R_2R_4x_0^g.$$
                            Following this line of thought, I conjecture that we can completely decouple the rotations
                            about the global frame and the body frame. I am pretty sure this is proved and shown
                            somewhere, if anyone reading this has any information please let me know.
                        </p>

                        <hr>

                        <h2 id="rigid_motion">Rigid Motions in \(\mathbb{R}^3\)</h2>

                        <p>
                            In this section I will talk about rigid motions which includes both translation and
                            rotation. I will present three ways of describing such a motion, namely, homogeneous
                            transformation, twist and screw motions, and we will see how these three descriptions are
                            related.
                        </p>

                        <h3>Homogeneous Representations</h3>

                        <p>
                            Any rigid motion can be represented by a translation \(p\) and a rotation \(R\). If we
                            perform such a transformation \(g(\cdot)\), we can relate the position before and after the
                            transformation as
                            $$q^\prime = g(q) = p + Rq.$$
                            And for a vector \(v\) we have \(g_*(v) = Rv\). This forms the special Euclidean group
                            $$SE(3) = \{(p, R)\ |\ p\in\mathbb{R}^3, R\in SO(3)\} = \mathbb{R}^3\times SO(3).$$
                            As before we can see this from two ways. If
                            \(g(\cdot)\) is seen as an action then both \(q^\prime\) and \(q\) are measured in the same
                            coordinate frame. If we see this as a mapping between frames, then \(q^\prime\) and \(q\)
                            are measured in different frames. Later I will consolidate this using an example. Before
                            that, I want to introduce the homogeneous representation of points and vectors. For a point
                            \(p\) and vector \(v\) we can have their homogeneous representation as
                            $$\bar{p} = \begin{bmatrix}
                            p_1\\
                            p_2\\
                            p_3\\
                            1
                            \end{bmatrix},\ \bar{v} = \begin{bmatrix}
                            v_1\\
                            v_2\\
                            v_3\\
                            0
                            \end{bmatrix},$$
                            here I would like to draw your attention to the last element, for points the last element is
                            \(1\) and for vectors the last element is \(0\). The we can homogeneous representation of
                            \(SE(3)\) as
                            $$\bar{g} = \begin{bmatrix}
                            R & p\\
                            \mathbf{0} & 1
                            \end{bmatrix}.$$
                            It is proved that \(SE(3)\) is a group, therefore, it satisfies the following properties
                        </p>

                        <ul>
                            <li>If \(g_1, g_2\in SE(3)\), then \(g_1g_2\in SE(3)\).</li>
                            <li>It has an identity element which is \(I_{4\times4}\).</li>
                            <li>
                                There exists an inverse for \(g = (p, R)\in SE(3)\), defined as
                                $$g^{-1} = (-R^Tp, R^T)\ \rightarrow\ \bar{g}^{-1} = \begin{bmatrix}
                                R^T & -R^Tp\\
                                \mathbf{0} & 1
                                \end{bmatrix}.$$
                            </li>
                            <li>
                                The composition rule
                                $$\bar{g}_{ac} = \bar{g}_{ab}\bar{g}_{bc} = \begin{bmatrix}
                                R_{ab}R_{bc} & R_{ab}p_{bc} + p_{ab}\\
                                \mathbf{0} & 1
                                \end{bmatrix}$$
                                is associative.
                            </li>
                        </ul>

                        <p>
                            Also we can prove that is a rigid transformation, which infers
                        </p>
                        <ul>
                            <li>
                                \(g\) preserves distance between points \(\|g(p) - g(q)\| = \|p - q\|\), for all \(p,
                                q\in\mathbb{R}^3\).
                            </li>
                            <li>
                                \(g\) preserves orientation between vectors \(g_*(v\times w) = g_*(v)\times g_*(w)\),
                                for all \(v, w\in\mathbb{R}^3\).
                            </li>
                        </ul>

                        <figure class="l-middle">
                            <img src="../../../img/blog-materials/twoViewofg.png" alt="rotation illustration">
                        </figure>

                        <p>
                            Now I want to use an example to better understand the two views of this homogeneous
                            representation. Consider rotating \(\theta\) about the vertical line going though point
                            \((l_x, l_y, 0)\), how can we find the transformation \(g_{ab}\) such that \(x_g\) is the
                            position of the point before and \(x_g^\prime\) is the position after, which are all
                            represented in the global fixed frame. We can see this as two steps, a rotation \(R\) and a
                            translation \(p\), the rotation is w.r.t the vertical line \((0, 0, 0)\) and the translation
                            is from \((0, 0, 0)\) to \((l_x, l_y, 0)\). Denoting a point \(x\) with the coordinates in
                            the body frame (light purple frame above) as \(x_b\), we define
                            $$x_b^1 = Rx_b.$$
                            And after the translation we have
                            $$x_g^\prime = x_b^1 + p = Rx_b + p.$$
                            Therefore we have
                            $$x_g^\prime = p + Rx_b\ \rightarrow\ \bar{g} = \begin{bmatrix}
                            R & p\\
                            0 & 1
                            \end{bmatrix} = \begin{bmatrix}
                            \cos\theta & -\sin\theta & 0 & l_x\\
                            \sin\theta & \cos\theta & 0 & l_y\\
                            0 & 0 & 1 & 0\\
                            0 & 0 & 0 & 1
                            \end{bmatrix}.$$
                            Also if we start at point \(x_g = x_b\), where \(x_g\) is measured in the global frame, this
                            gives you a way to calculate the position after applying \(R\) and \(p\)
                            $$x_g^\prime = p + Rx_g.$$
                        </p>

                        <h3>Twists</h3>
                        <p>
                            In the previous sections, we talked about how to rotate rigid bodies, however, all of them
                            were rotating about an axis that passes through the global fixed frame, in this part in
                            addition to introducing a more compact way of representing rigid body motion, I will also
                            talk about how to rotate about axis that do not pass through the origin of the fixed frame.
                            In the homogeneous coordinates we can write the pure rotation with unit velocity about axis
                            \(\omega\in\mathbb{R}^3\)
                            $$\dot{p}(t) = \omega\times(p(t) - q)$$
                            as
                            $$\begin{bmatrix}
                            \dot{p}\\
                            1
                            \end{bmatrix} = \begin{bmatrix}
                            \hat{\omega} & -\omega\times q\\
                            0 & 1
                            \end{bmatrix}\begin{bmatrix}
                            p\\
                            1
                            \end{bmatrix} = \hat{\xi}\begin{bmatrix}
                            p\\
                            1
                            \end{bmatrix}\ \longleftrightarrow \dot{\bar{p}} = \hat{\xi}\bar{p}.$$
                            Thus the solution \(\bar{p}(t) = \exp{(\hat{\xi}t)}\bar{p}(0)\) enables a mapping from the
                            initial location to the location after \(t\) radians of rotation \(\exp{(\hat{\xi}t)}\).
                            Note that here \(q\) is a point on the axis \(\omega\) given in the global coordinates, and
                            we can write \(v = -\omega\times q\). For pure translations we have
                            $$\hat{\xi} = \begin{bmatrix}
                            0 & v\\
                            0 & 0
                            \end{bmatrix}$$
                            where \(v\) is a vector representing the translation velocity. We define twists as the group
                            $$se(3) := \{(v, \hat{\omega})\ |\ v\in\mathbb{R}^3, \hat{\omega}\in so(3)\},$$
                            with the twist coordinates \(\xi = [v^T,\ \omega^T]^T\in\mathbb{R}^6\). We can prove that
                            for every member of \(se(3)\) we can find its corresponding element in \(SE(3)\) using an
                            exponential mapping
                            $$\begin{align*}
                            e^{\hat{\xi}\theta} &= \begin{bmatrix}
                            I & v\theta\\
                            0 & 1
                            \end{bmatrix} & \omega = 0\\
                            e^{\hat{\xi}\theta} &= \begin{bmatrix}
                            e^{\hat{\omega}\theta} & (I - e^{\hat{\omega}\theta})(\omega\times v) +
                            \omega\omega^Tv\theta\\
                            0 & 1
                            \end{bmatrix} & \omega \neq 0.
                            \end{align*}$$
                            Also for every \(p, R\) we can find its corresponding twist \(\hat{\xi}\in se(3)\) and
                            \(\theta\in\mathbb{R}\), for \(R = I\) we have
                            $$\begin{align*}
                            \hat{\xi} &= \begin{bmatrix}
                            0 & p/\|p\|\\
                            0 & 0
                            \end{bmatrix} &\theta = \|p\|.
                            \end{align*}$$
                            If \(R \neq I\), then first we can solve for \(\hat{w}\) and \(\theta\) by solving
                            \(e^{\hat{\omega}\theta} = R\), which was mentioned above. Then we can solve for \(v\)
                            $$v = \Big[(I - e^{\hat{\omega}\theta})\hat{\omega} + \omega\omega^T\theta\Big]^{-1}p.$$
                            Note, here if we write \(p(\theta) = \exp{(\hat{\xi}\theta)}p(0)\), then \(p(\theta)\) and
                            \(p(0)\) are specified in the same reference frame. If we want to specify \(p(0)\) in the
                            body frame then we have
                            $$p(\theta) = \exp{(\hat{\xi}\theta)}g_{gb}(0)p^b(0)$$
                            where \(g_{gb}\) gives the mapping between coordinates in the body and the global frame at
                            \(t = 0\).

                        <table class="table">
                            <thead class="table-head-style">
                                <tr>
                                    <td>Twist</td>
                                    <td>Linear System</td>
                                    <td>Comments</td>
                                </tr>
                            </thead>
                            <tbody class="table-body-style">
                                <tr class="align-middle">
                                    <td>\(\dot{p}(t) = \omega\times(p(t) - q)\)</td>
                                    <td>\(\dot{x}(t) = \omega(x(t) - O) \)</td>
                                    <td>
                                        \(\xi = \begin{bmatrix}
                                        -\omega\times q\\
                                        \omega
                                        \end{bmatrix} = \begin{bmatrix}
                                        v\\
                                        \omega
                                        \end{bmatrix}\), differential equations governing the movement
                                    </td>
                                </tr>
                                <tr class="align-middle">
                                    <td>\(\dot{\bar{p}} = \hat{\xi}\bar{p}\)</td>
                                    <td>\(\dot{x} = Ax\)</td>
                                    <td>
                                        \(\hat{\xi} = \begin{bmatrix}
                                        \hat{\omega} & -\omega\times q\\
                                        0 & 1
                                        \end{bmatrix}\), differential equation in vector form
                                    </td>
                                </tr>
                                <tr class="align-middle">
                                    <td>\(\bar{p}(t) = \exp{(\hat{\xi}t)}\bar{p}(0)\)</td>
                                    <td>\(x(t) = \exp{(At)}x(0)\)</td>
                                    <td>
                                        \(\exp{(\hat{\xi}t)} = \begin{bmatrix}
                                        e^{\hat{\omega}\theta} & (I - e^{\hat{\omega}\theta})(\omega\times v) +
                                        \omega\omega^Tv\theta\\
                                        0 & 1
                                        \end{bmatrix}\), analytic solution to differential equation.
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                        </p>

                        <h3>Screw Motion</h3>

                        <p>
                            Here we state <b>Chasles' Theorem</b>: every rigid body motion can be realized by a rotation
                            about an axis \(\omega\) combined with a translation parallel to that axis. We assume that
                            the rotation is of \(\theta\) radians and the translation is of amount \(d\), also we can
                            find a point on \(\omega\) and call it \(q\).
                        </p>

                        <p>
                            We can see that this movement resembles the movement of a screw. We can describe the screw
                            movement using: <i>pitch</i> as \(h:=d/\theta\), the <i>axis</i> of the screw movement as
                            \(l = \{q + \lambda\omega\ |\ \lambda\in\mathbb{R}\}\), and a <i>magnitude</i> \(M =
                            \theta\) when there is rotation and \(M = \infty\) when there is only translation.
                        </p>

                        <p>
                            For a given screw motion we can find its rigid transfomation as
                            $$\begin{align*}
                            g &= \begin{bmatrix}
                            e^{\hat{\omega}\theta} & (I - e^{\hat{\omega}\theta})q + h\theta\omega\\
                            0 & 1
                            \end{bmatrix} & \mathrm{with\ rotation}\\
                            g &= \begin{bmatrix}
                            I & \theta v\\
                            0 & 1
                            \end{bmatrix} & \mathrm{pure\ translation}
                            \end{align*}$$
                            where \(v\) is the vector of translation. Additionally, when given a twist we can also find
                            its corresponding screw, and given a screw we can find its corresponding twist.
                        </p>

                        <hr>

                        <h2 id="velocity">Velocity of a Rigid Body</h2>

                        <h3>Rotational Velocity</h3>
                        <p>
                            First we define the spatial coordinate frame \(A\) which is fixed and the body coordinate
                            frame \(B\) which is moving. If we define a point \(q_b\) in the body frame, and a rotation
                            motion \(R_{ab}(t)\), then we can have the trajectory of the point in spatial coordinates as
                            $$q_a(t) = R_{ab}(t)q_b.$$
                            By deriving that both \(R^{-1}\dot{R}\) and \(\dot{R}R^{-1}\) are skew symmetric matrices,
                            we can get the angular velocity in both the spatial coordinate \(\hat{\omega}^s\) and the
                            instantaneous body coordinate \(\hat{\omega}^b\) (since the body coordinate is changing due
                            to rotation)
                            $$v_{q_a}(t) = \dot{R}_{ab}(t)q_b =
                            \underbrace{\dot{R}_{ab}(t)R_{ab}^{-1}(t)}_{:=\ \hat{\omega}_{ab}^s}R_{ab}(t)q_b =
                            \hat{\omega}_{ab}^sR_{ab}(t)q_b = \hat{\omega}_{ab}q_a.$$
                            The instantaneous body angluar velocity is defined as seeing the spatial angular velocity
                            vector in the body frame,
                            $$v_{q_b}(t) := R_{ab}^Tv_{q_a}(t)\ \ \ \ \hat{\omega}_{ab}^b = R_{ab}^{-1}\dot{R}_{ab}$$
                            which is not the angluar velocity of the rigid body w.r.t the body frame, the latter is
                            always zero.
                        </p>

                        <h3>Rigid Body Velocity</h3>
                        <p>
                            For a rigid motion plan \(g_{ab}(t)\in SE(3)\) we can get the spatial velocity as a twist
                            \(\hat{V}_{ab}^s\in se(3)\)
                            $$\hat{V}_{ab}^s = \dot{g}_{ab}g_{ab}^{-1}\ \ \ \ V_{ab}^s = \begin{bmatrix}
                            v_{ab}^s\\
                            \omega_{ab}^s
                            \end{bmatrix} = \begin{bmatrix}
                            -\dot{R}_{ab}R_{ab}^Tp_{ab} + \dot{p}_{ab}\\
                            (\dot{R}_{ab}R_{ab}^T)^\vee
                            \end{bmatrix}$$
                            Thus the velocity of a point \(q_a\) can be found as
                            $$v_{q_a} = \hat{V}_{ab}^sq_a = \omega_{ab}^s\times q_a + v_{ab}^s.$$
                            Here we can interpret \(\omega_{ab}^s\) as the instantaneous angular velocity of the body as
                            viewed in the spatial frame and \(v_{ab}^s\) as the velocity of a (possibly imaginary) point
                            on the rigid body which is traveling through the origin of the spatial frame at time \(t\).
                            The body velocity is defined as
                            $$\hat{V}_{ab}^b = g_{ab}^{-1}\dot{g}_{ab}\ \ \ \ V_{ab}^b = \begin{bmatrix}
                            v_{ab}^b\\
                            \omega_{ab}^b
                            \end{bmatrix} = \begin{bmatrix}
                            R_{ab}^T\dot{p}_{ab}\\
                            (R_{ab}^T\dot{R}_{ab})^\vee
                            \end{bmatrix}$$
                            which for \(v_{ab}^b\) can be interpretted as the velocity of the origin of the body
                            coordinate frame relative to the spatial frame, as viewed in the current body frame; for
                            \(\omega_{ab}^b\) we can see it as the angular velocity of the coordinate frame, also as
                            viewed in the current body frame. We can also define an adjoint transformation to relate the
                            spatial and body velcoties
                            $$V_{ab}^s = \begin{bmatrix}
                            v_{ab}^s\\
                            \omega_{ab}^s
                            \end{bmatrix} = \begin{bmatrix}
                            R_{ab} & \hat{p}_{ab}R_{ab}\\
                            0 & R_{ab}
                            \omega_{ab}^b
                            \end{bmatrix}\begin{bmatrix}
                            v_{ab}^b\\
                            \omega_{ab}^b
                            \end{bmatrix} = Ad_{g}V_{ab}^b.$$
                        </p>

                        <h3>Coordinate Transformation</h3>
                        <p>
                            For three coordinate frames A, B and C, we can have the relationship between their spatial
                            velocity as
                            $$V_{ac}^s = V_{ab}^s + Ad_{g_{ab}}V_{bc}^s$$
                            similarly we can get the relationship between their body velocities as
                            $$V_{ac}^b = Ad_{g_{bc}^{-1}}V_{ab}^b + V_{bc}^b.$$
                            This relationship can also be used to represent twists before and after applying a rigid
                            motion
                            $$\xi^\prime = Ad_g\xi\ \ \mathrm{or}\ \ \hat{\xi}^\prime = g\hat{\xi}g^{-1}.$$
                            Some additional properties include
                            $$\begin{align*}
                            V_{ab}^{b} &= V_{ba}^{s}\\
                            V_{ab}^{b} &= -Ad_{g_{ba}}V_{ba}^{b}
                            \end{align*}$$
                        </p>

                        <hr>

                        <h2 id="wrenches">Wrenches</h2>
                        <p>
                            A wrench is defined as a force/moment pair \(F\in\mathbb{R}^6\)
                            $$F = \begin{bmatrix}
                            f\\
                            \tau
                            \end{bmatrix}.$$
                            Given its dual nature with twist we have the relationship mapping wrenches between different
                            coordinates systems as
                            $$F_c = Ad_{g_{bc}}^TF_b.$$
                            And for the same wrench the instantaneous work is the same in both the spatial and body
                            frame
                            $$\delta W = V^b\cdot F^b = V^s\cdot F^s,$$
                            note that here \(\cdot\) represents the dot product.
                        </p>

                        <p>
                            Using <b>Poinsot</b>'s Theorem we can see every collection of wrenches applied to a rigid
                            body is equivalent to a force applied along a fixed axis plus a torque about the same axis.
                            Thus there exists a direct mapping between wrenches and screw motions.

                        </p>

                    </div>
                </div>
            </div>

        </dt-article>

        <dt-appendix class="dt-appendix-class">
        </dt-appendix>

        <div class="container">
            <div class="row">
                <hr style="height:4px; border-width:0; margin-top: 2%; color:white; background-color:white">
                <p class="text-left blog-content full-page-blog citation">
                    Powered by <a href="https://www.mathjax.org">
                        <img title="Powered by MathJax" src="https://www.mathjax.org/badge/mj_logo.png"
                            style="border:0;" alt="Powered by MathJax" />
                    </a>
                </p>
            </div>
        </div>

        <footer class="footer">
            <div class="container">
                <div class="row">
                    <p class="footer-p col-6">&copy Bolun Dai 2021</p>
                    <p class="col-6 text-end">
                        <a href="mailto:bd1555@nyu.edu" style="padding: 0px 0px 0px 2%;">
                            <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="white"
                                class="bi bi-envelope-fill" viewBox="0 0 16 16">
                                <path
                                    d="M.05 3.555A2 2 0 0 1 2 2h12a2 2 0 0 1 1.95 1.555L8 8.414.05 3.555zM0 4.697v7.104l5.803-3.558L0 4.697zM6.761 8.83l-6.57 4.027A2 2 0 0 0 2 14h12a2 2 0 0 0 1.808-1.144l-6.57-4.027L8 9.586l-1.239-.757zm3.436-.586L16 11.801V4.697l-5.803 3.546z" />
                            </svg>
                        </a>
                        <a href="https://www.linkedin.com/in/bolun-dai" style="padding: 0px 0px 0px 2%;">
                            <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="white"
                                class="bi bi-linkedin" viewBox="0 0 16 16">
                                <path
                                    d="M0 1.146C0 .513.526 0 1.175 0h13.65C15.474 0 16 .513 16 1.146v13.708c0 .633-.526 1.146-1.175 1.146H1.175C.526 16 0 15.487 0 14.854V1.146zm4.943 12.248V6.169H2.542v7.225h2.401zm-1.2-8.212c.837 0 1.358-.554 1.358-1.248-.015-.709-.52-1.248-1.342-1.248-.822 0-1.359.54-1.359 1.248 0 .694.521 1.248 1.327 1.248h.016zm4.908 8.212V9.359c0-.216.016-.432.08-.586.173-.431.568-.878 1.232-.878.869 0 1.216.662 1.216 1.634v3.865h2.401V9.25c0-2.22-1.184-3.252-2.764-3.252-1.274 0-1.845.7-2.165 1.193v.025h-.016a5.54 5.54 0 0 1 .016-.025V6.169h-2.4c.03.678 0 7.225 0 7.225h2.4z" />
                            </svg>
                        </a>
                        <a href="https://github.com/BolunDai0216" style="padding: 0px 0px 0px 2%;">
                            <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="white"
                                class="bi bi-github" viewBox="0 0 16 16">
                                <path
                                    d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.012 8.012 0 0 0 16 8c0-4.42-3.58-8-8-8z" />
                            </svg>
                        </a>
                        <a href="https://scholar.google.com/citations?user=AkuPvYUAAAAJ&hl=en&oi=ao"
                            style="padding: 0px 0px 0px 2%;">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="white"
                                class="bi bi-google" viewBox="0 0 16 16">
                                <path
                                    d="M15.545 6.558a9.42 9.42 0 0 1 .139 1.626c0 2.434-.87 4.492-2.384 5.885h.002C11.978 15.292 10.158 16 8 16A8 8 0 1 1 8 0a7.689 7.689 0 0 1 5.352 2.082l-2.284 2.284A4.347 4.347 0 0 0 8 3.166c-2.087 0-3.86 1.408-4.492 3.304a4.792 4.792 0 0 0 0 3.063h.003c.635 1.893 2.405 3.301 4.492 3.301 1.078 0 2.004-.276 2.722-.764h-.003a3.702 3.702 0 0 0 1.599-2.431H8v-3.08h7.545z" />
                            </svg>
                        </a>
                    </p>
                </div>
            </div>
        </footer>

    </div>

    <script type="text/bibliography">
        @book{DBLP:books/daglib/0073732,
            author = {Richard M. Murray and
            Zexiang Li and
            Shankar Sastry},
            title = {A mathematical introduction to robotics manipulation},
            publisher = {CRC Press},
            year = {1994}
            }
    </script>
</body>

</html>