I"<p>In this blog, I want to talk give a review of rigid transformations, in specific rotation and translation. Although this is the most basic concept in robotics, I tend to confuse many concepts. Therefore, this to me is more like a cheatsheet. The content is developed from <d-cite key="DBLP:books/daglib/0073732"></d-cite>.</p>

<h2 id="rigid-transformations">Rigid Transformations</h2>

<p>A rigid transformation in \(\mathbb{R}^3\) is a mapping \(g:\mathbb{R}^3\rightarrow\mathbb{R}^3\) that has the following properties:</p>

<ul>
  <li>Length is preserved \(\|g(p) - g(q)\| = \|p - q\|\) for all points \(p, q\in\mathbb{R}^3\).</li>
  <li>The cross product is preserved \(g_*(v\times w) = g_*(v)\times g_*(w)\) for all vectors \(v, w\in\mathbb{R}^3\).</li>
</ul>

<p>In addition to the above properties we can also prove that the inner product is preserved
\(v_1^Tv_2 = g_*(v_1)^Tg_*(v_2).\)</p>

<figure class="l-middle">
    <img src="/assets/images/random/rigid_transformation.gif" alt="rigid transformation illustration" />
</figure>

<p>We can see from the above animation, that after translation and rotation the length of the two blue lines did not change (\(\|\cdot\|\) did not change), thus satisfying the first property. From the definition of inner product we have</p>

\[\langle \mathbf{a}, \mathbf{b}\rangle = \|\mathbf{a}\|\|\mathbf{b}\|\cos(\theta)\]

<p>where \(\theta\) is the angle between \(\mathbf{a}\) and \(\mathbf{b}\). We can see that the angle between the two lines did not change (\(\cos(\theta)\) does not change), and since the length is also kept the same, the inner product is preserved. The rotation is in a 2D plane, but we can see that for the body coordinate system before and after the transformation (orange axes) the z-axis is the same, thus the cross product is preserved. This result generalizes to 3D rotations.</p>

<h2 id="rotations">Rotations</h2>

<h3 id="properites">Properites</h3>

<p>The rotation matrix has the following properties
\(SO(3) = \{R\in\mathbb{R}^{3\times3}\ |\ RR^T = I, \mathrm{det}R = 1\},\)</p>

<p>where \(SO(3)\) represents the special orthogonal group. Since the rotation matrix is a group under matrix multiplication it has some additional properties:</p>

<ul>
  <li>Closure: If \(R_1, R_2\) are rotation matrices then \(R_1R_2\) is also a rotation matrix.</li>
  <li>Identity: The identity matrix is the identity element.</li>
  <li>Inverse: Each rotation matrix has an inverse \(R^{-1} = R^T\).</li>
  <li>Associativity: For rotation matrices \(R_1, R_2\) and \(R_3\) we have \((R_1R_2)R_3 = R_1(R_2R_3)\).</li>
</ul>

<p>Also rotation matrix is a rigid transformation which means that</p>

<ul>
  <li>R preserves length: \(\|Rq - Rp\| = \|p - q\|\) for all points \(p, q\in\mathbb{R}^3\).</li>
  <li>R preserves orientation: \(R(v\times w) = (Rv)\times(Rw)\) for all vectors \(v, w\in\mathbb{R}^3\).</li>
</ul>

<h3 id="representations">Representations</h3>

<figure class="l-middle">
    <img src="/assets/images/random/rotation.gif" alt="rotation illustration" />
</figure>

<p>We can see from the animation, that if we have a vector (\mathbf{q}) rotating with respect to another vector (\omega) with constant angular velocity (|\omega|), its linear velocity can be calculated as (\dot{\mathbf{q}} = \omega\times\mathbf{q} = \hat{\omega}\mathbf{q}). From the knowledge of linear systems (solution of (\dot{x} = Ax) is (x(t) = e^{At}x_0)) we have the trajectory of the vector as (\mathbf{q}^\prime = \mathbf{q}(t) = e^{\hat{\omega}t}\mathbf{q}_0). Additionally, if we have (|\omega| = 1), then we have (t = \theta) the rotation angle.</p>

<p>From <strong>Eulerâ€™s theorem</strong> we know that for any rotation matrix (R\in SO(3)), it can be seen to be equivalent to rotation about a fixed axis (\omega\in\mathbb{R}^3) through an angle (\theta\in[0, 2\pi]). To represent the rotation matrix this way we can use the exponential map</p>

\[R = e^{\hat{w}\theta} = I + \frac{\hat{\omega}}{\|\omega\|}\sin{(\|\omega\|\theta)} + \frac{\hat{\omega}^2}{\|\omega\|}\bigg(1 - \cos{((\|\omega\|\theta))}\bigg)\]

<p>where (\hat{\omega}) is defined as</p>

\[\hat{\omega} = \begin{bmatrix}
0 &amp; -\omega_3 &amp; \omega_2\\
\omega_3 &amp; 0 &amp; -\omega_1\\
-\omega_2 &amp; \omega_1 &amp; 0
\end{bmatrix}\in so(3) = \{S\in\mathbb{R}^{3\times3}\ |\ S^T = -S\}.\]

<p>This mapping is many-to-one, which says that there are many (e^{\hat{w}\theta}) corresponding to one (R), and for every (R\in SO(3)) we have more than one (e^{\hat{w}\theta}). To obtain (\omega) and (\theta) from (R) we have</p>

\[\theta = \cos^{-1}\Big(\frac{\mathrm{trace}(R) - 1}{2}\Big)\ \mathrm{and}\ \omega =
\frac{1}{2\sin\theta}\begin{bmatrix}
r_{32} - r_{23}\\
r_{13} - r_{31}\\
r_{21} - r_{12}
\end{bmatrix},\]

<p>we can see that the pair ((\theta, \omega)) and ((2\pi - \theta, -\omega)) can both obtain (R), thus makes this mapping many-to-one. Note that in the case where (\theta = 0) we can pick any arbitrary (\omega), which all makes (R = I).</p>

<h3 id="better-understanding-what-rotation-matrices-represent">Better understanding what rotation matrices represent</h3>

<figure class="l-middle">
    <img src="/assets/images/random/twoViewofR.png" alt="rotation illustration" />
</figure>

<h2 id="rigid-motions-in-3d">Rigid Motions in 3D</h2>

<h2 id="velocity-of-a-rigid-body">Velocity of a Rigid Body</h2>

<h2 id="wrenches">Wrenches</h2>
:ET